<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üåü –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–ª—è –¥–µ—Ç–µ–π</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Nunito:wght@300;400;700&display=swap" rel="stylesheet">
  <meta name="description" content="–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –í–ü–†, –û–ì–≠ –∏ –ï–ì–≠">

  <style>
    :root{
      --c1: #ff4da6;   /* soft pink */
      --c2: #ff8a65;   /* warm orange */
      --c3: #ffeb3b;   /* golden yellow */
      --c4: #7e57c2;   /* deep indigo-blue */
      --c5: #4fc3f7;   /* sky blue */
      --bg: linear-gradient(135deg, #0b1d3a 0%, #132a4d 40%, #1a3760 100%);
      --radius: 14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;padding:28px;font-family: Nunito, system-ui, -apple-system, 'Segoe UI', Roboto, Arial; background:var(--bg); color:#e6f0ff;
    }
    .container{max-width:1100px;margin:0 auto}
    header{display:flex;align-items:center;justify-content:space-between;gap:18px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:72px;height:72px;border-radius:16px;display:grid;place-items:center;font-weight:800;color:#0b1d3a;background:linear-gradient(135deg,var(--c4),var(--c5));box-shadow:0 10px 28px rgba(0,0,0,0.25)}
    h1{margin:0;font-family:Montserrat, sans-serif;color:#ffffff}
    nav a{margin-left:12px;text-decoration:none;color:#c2d8ff;font-weight:700}
    nav a:hover{color:#ffeb3b;text-decoration:underline}

    .hero{display:grid;grid-template-columns:1fr 420px;gap:26px;align-items:center;margin:28px 0}
    .card{background:rgba(18,38,70,0.85);border-radius:var(--radius);padding:22px;box-shadow:0 8px 32px rgba(0,0,0,0.35);backdrop-filter:blur(8px);border:1px solid rgba(90,130,200,0.2);transition: transform 0.2s ease, box-shadow 0.2s ease;}
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.45);
    }
    .headline{font-size:34px;margin:0 0 12px;color:#ffffff}
    .tag{display:inline-block;padding:6px 10px;border-radius:999px;font-weight:800;background:linear-gradient(90deg,var(--c4),var(--c5));color:white}

    .services{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:14px}
    .service{padding:14px;border-radius:12px;background:linear-gradient(180deg,rgba(30,50,90,0.6),rgba(20,40,80,0.6));box-shadow:0 6px 18px rgba(0,0,0,0.2);color:#c2d8ff;transition: transform 0.2s ease, box-shadow 0.2s ease;}
    .service:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
    }
    .service strong{color:#ffffff}

    .profile{display:flex;flex-direction:column;align-items:center;gap:12px}
    .avatar{width:150px;height:150px;border-radius:18px;position:relative;display:flex;justify-content:center;align-items:center;font-weight:900;background:linear-gradient(180deg,#1c3c6c,#132a4d);color:white;border:6px solid rgba(126,87,194,0.4)}
    .avatar img{width:100%;height:100%;object-fit:cover;border-radius:12px;display:block}

    .decor-images{display:flex;gap:16px;margin-top:18px}
    .decor-images img{width:140px;height:auto;border-radius:10px;box-shadow:0 8px 18px rgba(0,0,0,0.25);border:2px solid rgba(255,255,255,0.15);background:rgba(0,0,0,0.2)}

    /* –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ "–û –∑–∞–Ω—è—Ç–∏—è—Ö" ‚Äî –∫–∞–∫ –Ω–∞ —Ñ–æ—Ç–æ */
    #about {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 18px;
      padding: 24px;
    }
    #about > h2 {
      grid-column: 1 / -1;
      margin-bottom: 12px;
      color: #ffffff;
    }
    #about p {
      grid-column: 1 / -1;
      margin-bottom: 20px;
      font-size: 16px;
      color: #c2d8ff;
    }
    .exam-card {
      background: rgba(255,255,255,0.08);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 6px 24px rgba(0,0,0,0.2);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .exam-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 32px rgba(0,0,0,0.3);
    }
    .exam-card h3 {
      margin: 0 0 12px 0;
      font-size: 20px;
      color: #ffffff;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .exam-card h3::before {
      content: '';
      display: inline-block;
      width: 24px;
      height: 24px;
      background: var(--c5);
      border-radius: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 14px;
      color: #0b1d3a;
      font-weight: bold;
    }
    .exam-card h3:nth-child(1)::before { background: var(--c1); }
    .exam-card h3:nth-child(2)::before { background: var(--c2); }
    .exam-card h3:nth-child(3)::before { background: var(--c3); }

    .exam-card .goal {
      font-weight: 700;
      color: #4fc3f7;
      margin: 12px 0 6px 0;
    }
    .exam-card .method {
      color: #c2d8ff;
      margin: 8px 0;
      line-height: 1.5;
    }
    .exam-card .result {
      color: #a8c4ff;
      margin-top: 12px;
      font-style: italic;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .exam-card .result::before {
      content: '‚Üí';
      font-weight: bold;
    }

    /* –ö–æ–Ω—Ç–∞–∫—Ç—ã ‚Äî —Ç–æ–∂–µ –∫–∞—Ä—Ç–æ—á–∫–∞ */
    #contact.card {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    #contact.card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.45);
    }

    /* responsive */
    @media (max-width:980px){.hero{grid-template-columns:1fr}.services{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:600px){body{padding:14px}.decor-images img{width:110px}}

    /* tiny utility for favicon preview in page */
    .favicon-preview{position:fixed;right:18px;bottom:18px;width:56px;height:56px;border-radius:10px;box-shadow:0 8px 20px rgba(0,0,0,0.3);display:grid;place-items:center;background:white}

    /* ‚ú® –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫—É—Ä—Å–æ—Ä: –∑–≤–µ–∑–¥–∞ —Å –∏—Å–∫—Ä–∞–º–∏ */
    * { cursor: none !important; }

    .cursor-star {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 9999;
      transform: translate(-50%, -50%);
      width: 24px;
      height: 24px;
    }

    .cursor-spark {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 9998;
      width: 6px;
      height: 6px;
      background: #ffd166;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      opacity: 0;
    }

    .hover-star {
      position: fixed;
      top: 20px;
      right: 20px;
      font-size: 28px;
      color: #ffd166;
      opacity: 0;
      transition: opacity 0.4s ease;
      pointer-events: none;
      z-index: 10000;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">EN</div>
        <div>
          <h1>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –í–ü–†, –û–ì–≠ –∏ –ï–ì–≠</h1>
          <div style="font-size:13px;color:#a8c4ff">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º ‚Ä¢ –†–∞–∑–≥–æ–≤–æ—Ä–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞</div>
        </div>
      </div>
      <nav>
        <a href="#services">–£—Å–ª—É–≥–∏</a>
        <a href="#about">–û –∑–∞–Ω—è—Ç–∏—è—Ö</a>
        <a href="#contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
      </nav>
    </header>

    <main>
      <section class="hero">
        <div class="card">
          <span class="tag">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–ª—è –¥–µ—Ç–µ–π</span>
          <h2 class="headline">–ì–æ–≤–æ—Ä–∏—Ç–µ —É–≤–µ—Ä–µ–Ω–Ω–æ. –£—á–∏—Ç–µ—Å—å —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º.</h2>
          <p>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π: –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞, –ª–µ–∫—Å–∏–∫–∞, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º, —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –∏ –∏–≥—Ä–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –¥–µ—Ç–µ–π.</p>
          <div class="services">
            <div class="service"><strong>–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</strong><div class="small">–Ø—Å–Ω–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ</div></div>
            <div class="service"><strong>–õ–µ–∫—Å–∏–∫–∞</strong><div class="small">–†–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ —Ç–µ–º—ã</div></div>
            <div class="service"><strong>–ò–≥—Ä—ã</strong><div class="small">–ö–≤–∏–∑—ã –∏ –º–∏–Ω–∏‚Äë–∏–≥—Ä—ã</div></div>
          </div>
        </div>

        <aside class="card profile">
          <div class="avatar">
            <img src="https://i.postimg.cc/QM6FF3WD/me-1.png" alt="–ú–∞—Ä–∏—è" onerror="this.style.display='none'; this.parentElement.innerHTML='<div style=&quot;font-weight:900;color:white&quot;>–ú</div>'">
          </div>
          <div style="font-weight:700;color:#ffffff">–ú–∞—Ä–∏—è</div>
          <div style="font-size:13px;color:#a8c4ff">–í–∞—à –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</div>
          <div style="margin-top:12px;display:flex;gap:8px">
            <a class="btn" href="mailto:mariya@yahoo.com" style="display:inline-block;padding:8px 16px;border-radius:8px;background:linear-gradient(90deg,var(--c4),var(--c5));color:white;text-decoration:none;font-weight:700;transition:transform 0.2s">Email</a>
            <a class="btn" href="#contact" style="display:inline-block;padding:8px 16px;border-radius:8px;background:linear-gradient(90deg,var(--c4),var(--c5));color:white;text-decoration:none;font-weight:700;transition:transform 0.2s">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
          </div>

          <div class="decor-images">
            <img src="/mnt/data/Red_telephone_box_in_London.jpg" alt="–¢–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –±—É–¥–∫–∞" onerror="this.style.display='none'">
            <img src="/mnt/data/London_bus_route_11.jpg" alt="–ê–≤—Ç–æ–±—É—Å" onerror="this.style.display='none'">
          </div>
        </aside>
      </section>

      <section id="about" class="card" style="margin-top:18px">
        <h2>–û –∑–∞–Ω—è—Ç–∏—è—Ö</h2>
        <p>–ì–æ—Ç–æ–≤–ª—é –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º –ª–µ–≥–∫–æ –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ ‚Äî —á–µ—Ä–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∞ –Ω–µ –∑—É–±—Ä—ë–∂–∫—É.</p>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –ï–ì–≠ -->
        <div class="exam-card">
          <h3>üéØ –ï–ì–≠: 80+ –±–∞–ª–ª–æ–≤</h3>
          <div class="goal">–¶–µ–ª—å:</div>
          <div class="method">–°–¥–∞—Ç—å —á–∞—Å—Ç—å –° –±–µ–∑ —Å—Ç—Ä–µ—Å—Å–∞, –Ω–µ —Ç–µ—Ä—è—è –±–∞–ª–ª—ã –Ω–∞ ¬´–≥–ª—É–ø—ã—Ö¬ª –æ—à–∏–±–∫–∞—Ö.</div>
          <div class="goal">–ö–∞–∫:</div>
          <div class="method">–†–∞–∑–±–æ—Ä —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π (37‚Äì43), —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –≤–Ω–∏–º–∞–Ω–∏—è.</div>
          <div class="result">–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —á–∞—Å—Ç–∏ –°, –º–µ–Ω—å—à–µ ¬´–≥–ª—É–ø—ã—Ö¬ª –æ—à–∏–±–æ–∫</div>
        </div>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –û–ì–≠ -->
        <div class="exam-card">
          <h3>üéì –û–ì–≠: ¬´–ø—è—Ç—ë—Ä–∫–∞¬ª –±–µ–∑ –Ω–µ—Ä–≤–æ–≤</h3>
          <div class="goal">–¶–µ–ª—å:</div>
          <div class="method">–ó–∞—â–∏—Ç–∞ —É—Å—Ç–Ω–æ–π —á–∞—Å—Ç–∏ ‚Äî –∫–∞–∫ —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –¥—Ä—É–≥–æ–º.</div>
          <div class="goal">–ö–∞–∫:</div>
          <div class="method">–û—Ç—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞, —Ç–∏–ø–∏—á–Ω—ã–µ –ª–æ–≤—É—à–∫–∏, —É—Å—Ç–Ω–∞—è —á–∞—Å—Ç—å ¬´–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–µ¬ª.</div>
          <div class="result">–ó–∞—â–∏—Ç–∞ —É—Å—Ç–Ω–æ–≥–æ ‚Äî –∫–∞–∫ —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –¥—Ä—É–≥–æ–º</div>
        </div>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –í–ü–† -->
        <div class="exam-card">
          <h3>üìö –í–ü–†: –ø–µ—Ä–≤—ã–π —à–∞–≥ –∫ —É—Å–ø–µ—Ö—É</h3>
          <div class="goal">–¶–µ–ª—å:</div>
          <div class="method">–†–µ–±—ë–Ω–æ–∫ —Ö–æ—á–µ—Ç –≥–æ—Ç–æ–≤–∏—Ç—å—Å—è ‚Äî –∏ –≥–æ—Ä–¥–∏—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.</div>
          <div class="goal">–ö–∞–∫:</div>
          <div class="method">–ò–≥—Ä–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –º–∏–Ω–∏-–∫–≤–∏–∑—ã, –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã.</div>
          <div class="result">–†–µ–±—ë–Ω–æ–∫ —Ö–æ—á–µ—Ç –≥–æ—Ç–æ–≤–∏—Ç—å—Å—è ‚Äî –∏ –≥–æ—Ä–¥–∏—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º</div>
        </div>
      </section>

      <section id="contact" class="card" style="margin-top:18px">
        <h2 style="color:#ffffff">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
        <p>–ù–∞–ø–∏—à–∏—Ç–µ: <a href="mailto:mariya@yahoo.com" style="color:#ffeb3b">mariya@yahoo.com</a></p>
      </section>

    </main>

    <footer style="margin-top:24px;text-align:center;color:#8ab0e0">¬© –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Å –ú–∞—Ä–∏–µ–π</footer>
  </div>

  <!-- SVG-in-DOM cube: used as source to render favicon (no external files). Visible for debugging only (display:none) -->
  <div id="svg-source" style="position:absolute;left:-9999px;top:-9999px;">
    <svg id="cube-svg" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="-100 -100 200 200" preserveAspectRatio="xMidYMid meet">
      <!-- Faces will be generated by script for crisp scalable vector art -->
    </svg>
  </div>

  <!-- preview on page (optional) -->
  <div class="favicon-preview" title="üåü –ó–¥–µ—Å—å —Ä–æ–∂–¥–∞—é—Ç—Å—è ¬´A+¬ª!"></div>

  <!-- ‚ú® –ö—É—Ä—Å–æ—Ä-–∑–≤–µ–∑–¥–∞ —Å –º–µ—Ä—Ü–∞–Ω–∏–µ–º + –∏—Å–∫—Ä—ã -->
  <script>
    // –ó–≤–µ–∑–¥–∞
    const star = document.createElement('div');
    star.className = 'cursor-star';
    star.innerHTML = `<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L14.3 8.5L21 9L16 13.5L17.5 20L12 17L6.5 20L8 13.5L3 9L9.7 8.5Z" fill="#ffd166" stroke="#ff6b6b" stroke-width="1"/></svg>`;
    document.body.appendChild(star);

    // –ò—Å–∫—Ä—ã
    const sparks = [];
    for (let i = 0; i < 15; i++) {
      const el = document.createElement('div');
      el.className = 'cursor-spark';
      document.body.appendChild(el);
      sparks.push({ el, active: false, x: 0, y: 0, life: 0 });
    }

    let mouseX = window.innerWidth / 2, mouseY = window.innerHeight / 2, time = 0;
    document.addEventListener('mousemove', e => { mouseX = e.clientX; mouseY = e.clientY; if (Math.random() < 0.12) { const s = sparks.find(x => !x.active); if (s) { s.active = true; s.x = mouseX; s.y = mouseY; s.life = 1; } } });

    function animate() {
      time += 0.02;
      const scale = 0.96 + 0.04 * Math.sin(time * 1.9);
      const opacity = 0.85 + 0.15 * Math.sin(time * 2.8);
      star.style.opacity = opacity;
      star.style.transform = `translate(-50%, -50%) scale(${scale})`;
      star.style.left = mouseX + 'px';
      star.style.top = mouseY + 'px';

      sparks.forEach(s => {
        if (s.active) {
          s.y -= 1.6; s.x += (Math.random() - 0.5) * 1.5; s.life -= 0.03;
          const sc = 0.5 + s.life * 0.5;
          s.el.style.left = s.x + 'px';
          s.el.style.top = s.y + 'px';
          s.el.style.opacity = Math.max(0, s.life * 0.8);
          s.el.style.transform = `translate(-50%, -50%) scale(${sc})`;
          if (s.life <= 0) s.active = false;
        }
      });

      requestAnimationFrame(animate);
    }
    animate();
  </script>

  <!-- üåü –ì–æ—Ä—è—â–∞—è –∑–≤–µ–∑–¥–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É -->
  <script>
    // –°–æ–∑–¥–∞—ë–º —ç–ª–µ–º–µ–Ω—Ç
    const hoverStar = document.createElement('div');
    hoverStar.className = 'hover-star';
    hoverStar.textContent = '‚ú®';
    document.body.appendChild(hoverStar);

    // –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–≤–µ–∑–¥—É
    document.addEventListener('mouseenter', () => {
      hoverStar.style.opacity = '1';
    });
    document.addEventListener('mouseleave', () => {
      hoverStar.style.opacity = '0';
    });

    // –ê–Ω–∏–º–∞—Ü–∏—è –º–µ—Ä—Ü–∞–Ω–∏—è –∑–≤–µ–∑–¥—ã
    setInterval(() => {
      const pulse = 0.7 + 0.3 * Math.sin(Date.now() * 0.002);
      hoverStar.style.transform = `scale(${pulse})`;
    }, 50);
  </script>

  <script>
  // Dynamic SVG cube favicon (SVG-in-DOM -> canvas -> favicon PNG) 
  // - Six themed faces: Grammar, Lexis, Game, Conversation, Exam, Kids
  // - Full rotation every 8 seconds
  // - Uses inline SVG and renders to canvas for maximum browser compatibility (Chrome, FF, Edge, Safari, iOS)
  // - Transparent background, crisp scaling

  (function(){
    const themes = [
      {name:'–ì—Ä–∞–º–º', color:'#ff3366', label:'G'},
      {name:'–õ–µ–∫—Å–∏–∫–∞', color:'#ff6f3c', label:'L'},
      {name:'–ò–≥—Ä–∞', color:'#ffd93d', label:'üéÆ'},
      {name:'–†–∞–∑–≥–æ–≤–æ—Ä', color:'#6a82fb', label:'üí¨'},
      {name:'–≠–∫–∑–∞–º–µ–Ω', color:'#9bffea', label:'‚úçÔ∏è'},
      {name:'–î–µ—Ç–∏', color:'#a08cff', label:'‚≠ê'}
    ];

    const svgNS = 'http://www.w3.org/2000/svg';
    const svg = document.getElementById('cube-svg');

    // 3D cube vertices
    const size = 60;
    const verts = [
      [-1,-1,-1],[1,-1,-1],[1,1,-1],[-1,1,-1], // back face
      [-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1]      // front face
    ].map(v=>v.map(x=>x*size));

    function rotateY(pt, ang){const c=Math.cos(ang), s=Math.sin(ang); const x=pt[0], y=pt[1], z=pt[2]; return [x*c+z*s, y, -x*s+z*c];}
    function rotateX(pt, ang){const c=Math.cos(ang), s=Math.sin(ang); const x=pt[0], y=pt[1], z=pt[2]; return [x, y*c - z*s, y*s + z*c];}
    function project(pt){ const [x,y,z]=pt; const f = 400/(400+z); return [x*f, y*f]; }

    // faces as lists of vertex indices and assigned theme
    const faces = [
      {idx:[4,5,6,7], theme:0}, // front
      {idx:[0,1,2,3], theme:1}, // back
      {idx:[0,4,7,3], theme:2}, // left
      {idx:[1,5,6,2], theme:3}, // right
      {idx:[3,2,6,7], theme:4}, // top
      {idx:[0,1,5,4], theme:5}  // bottom
    ];

    // create SVG face elements
    function ensureFaces(){ svg.innerHTML='';
      faces.forEach((f,i)=>{
        const g = document.createElementNS(svgNS,'g');
        g.setAttribute('data-face',i);
        const poly = document.createElementNS(svgNS,'polygon');
        poly.setAttribute('stroke','rgba(0,0,0,0.12)'); poly.setAttribute('stroke-width','2'); poly.setAttribute('fill',themes[f.theme].color);
        const txt = document.createElementNS(svgNS,'text');
        txt.setAttribute('text-anchor','middle'); txt.setAttribute('dominant-baseline','middle'); txt.setAttribute('font-size','22'); txt.setAttribute('font-family','sans-serif'); txt.setAttribute('fill','#072');
        txt.textContent = themes[f.theme].label;
        g.appendChild(poly); g.appendChild(txt); svg.appendChild(g);
      });
    }
    ensureFaces();

    // render loop: update SVG polygons positions based on rotation
    const duration = 8000; // ms for full rotation
    let last = performance.now();

    function render(now){
      const t = (now % duration)/duration; const ang = t * Math.PI*2; // rotate full
      // rotate slightly on X for better 3D
      const angX = Math.PI*0.18;

      // compute projected points
      const proj = verts.map(v=>project(rotateX(rotateY(v, ang), angX)));

      // compute face depth for painter's algorithm
      const faceDepth = faces.map((f, i)=>({i, z: f.idx.reduce((s,vi)=>s + (rotateX(rotateY(verts[vi], ang), angX)[2]),0)/4}));
      faceDepth.sort((a,b)=>b.z - a.z); // far to near

      // update SVG in painter order (clear and reappend)
      // but we will set polygon points and text positions
      faceDepth.forEach((fd, order)=>{
        const f = faces[fd.i];
        const g = svg.querySelector('[data-face="'+fd.i+'"]');
        const poly = g.querySelector('polygon');
        const txt = g.querySelector('text');
        const pts = f.idx.map(ix=>{const p=proj[ix]; return (p[0]).toFixed(2)+','+(p[1]).toFixed(2)}).join(' ');
        poly.setAttribute('points', pts);
        // center text roughly at polygon average
        const cx = f.idx.reduce((s,ix)=>s+proj[ix][0],0)/4;
        const cy = f.idx.reduce((s,ix)=>s+proj[ix][1],0)/4;
        txt.setAttribute('x', cx);
        txt.setAttribute('y', cy);
        // adjust fill for contrast
        txt.setAttribute('fill', '#072');
        // set fill opacity based on face orientation (simulate light)
        const normalZ = computeFaceNormalZ(f.idx, ang, angX);
        poly.setAttribute('fill-opacity', (0.6 + 0.4*Math.max(0, normalZ)).toString());
      });

      // after updating SVG, render to canvas and update favicon
      updateFaviconFromSVG();

      requestAnimationFrame(render);
    }

    function computeFaceNormalZ(idxArr, angY, angX){
      // compute normal z component in view space for face
      const a = rotateX(rotateY(verts[idxArr[0]], angY), angX);
      const b = rotateX(rotateY(verts[idxArr[1]], angY), angX);
      const c = rotateX(rotateY(verts[idxArr[2]], angY), angX);
      const ux=[b[0]-a[0], b[1]-a[1], b[2]-a[2]];
      const vx=[c[0]-a[0], c[1]-a[1], c[2]-a[2]];
      const nx = ux[1]*vx[2]-ux[2]*vx[1];
      const ny = ux[2]*vx[0]-ux[0]*vx[2];
      const nz = ux[0]*vx[1]-ux[1]*vx[0];
      const len = Math.hypot(nx,ny,nz)||1; return nz/len;
    }

    // Convert inline SVG to image and draw on canvas, then set favicon link
    const canvas = document.createElement('canvas'); const sizePx = 256; canvas.width = canvas.height = sizePx; const ctx = canvas.getContext('2d');

    function updateFaviconFromSVG(){
      const svgData = new XMLSerializer().serializeToString(svg);
      const svg64 = btoa(unescape(encodeURIComponent(svgData)));
      const img = new Image();
      img.onload = function(){
        ctx.clearRect(0,0,sizePx,sizePx);
        // transparent background
        ctx.drawImage(img, 0, 0, sizePx, sizePx);
        try{ const url = canvas.toDataURL('image/png'); setFavicon(url); // also preview
              const preview = document.querySelector('.favicon-preview'); preview.style.backgroundImage = `url(${url})`; preview.style.backgroundSize='cover'; }
        catch(e){console.warn('favicon update failed',e)}
      };
      img.onerror = function(e){console.warn('svg->img load error', e)};
      img.src = 'data:image/svg+xml;base64,'+svg64;
    }

    // set or replace link rel icons
    function setFavicon(url){
      try{
        let link = document.querySelector('link[rel~="icon"]').cloneNode(true);
        // if no existing, create
        if(!link){ link = document.createElement('link'); link.rel = 'icon'; document.getElementsByTagName('head')[0].appendChild(link); }
        link.href = url;
        link.type = 'image/png';
        // remove previous dynamic ones to avoid duplicates
        document.querySelectorAll('link[rel~="icon"]').forEach(l=>{ l.parentNode.removeChild(l); });
        document.head.appendChild(link);
        // also set apple-touch-icon where supported
        let apple = document.querySelector('link[rel="apple-touch-icon"]');
        if(apple) apple.href = url; else { apple = document.createElement('link'); apple.rel='apple-touch-icon'; apple.href = url; apple.sizes='256x256'; document.head.appendChild(apple); }
      }catch(e){console.warn('setFavicon error',e)}
    }

    // Start animation loop
    requestAnimationFrame(render);

    // Initial static favicon in case animation not ready
    (function(){
      const initialSVG = '<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="12" fill="#ff3366"/></svg>';
      const url = 'image/svg+xml;base64,'+btoa(initialSVG);
      const link = document.createElement('link'); link.rel='icon'; link.href=url; document.head.appendChild(link);
    })();

  })();
  </script>

</body>
</html>
